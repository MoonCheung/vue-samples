<template>
  <div>
    <!-- Vue å®ä¾‹è§‚å¯Ÿçš„æ•°æ®å¯¹è±¡ã€‚ -->
    {{ $data }}<br />
    <a-button @click="() => (a += 1)">a+1</a-button>
  </div>
</template>

<script>
export default {
  data: function () {
    return {
      a: 1,
      b: { c: 2, d: 3 },
      e: {
        f: {
          g: 4
        }
      },
      h: []
    };
  },
  // watchæ–¹æ³•æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé”®æ˜¯éœ€è¦è§‚å¯Ÿçš„è¡¨è¾¾å¼ï¼Œå€¼æ˜¯å¯¹åº”å›è°ƒå‡½æ•°ã€‚å€¼ä¹Ÿå¯ä»¥æ˜¯æ–¹æ³•åï¼Œæˆ–è€…åŒ…å«é€‰é¡¹çš„å¯¹è±¡ã€‚
  watch: {
    //é‡‡ç”¨å¯¹è±¡å­—é¢é‡è¿™äº›æ–¹æ³•
    a: function (val, oldVal) {
      this.b.c += 1;
      console.log("new: %s, old: %s", val, oldVal);
    },
    "b.c": function (val, oldVal) {
      this.b.d += 2;
      console.log("new: %s, old: %s", val, oldVal);
    },
    "b.d": function (val, oldVal) {
      this.e.f.g += 3;
      console.log("new: %s, old: %s", val, oldVal);
    },
    //æ·±åº¦watcher
    e: {
      handler: function (val, oldVal) {
        this.h.push("ğŸ");
        console.log("new: %s, old: %s", val, oldVal);
      },
      deep: true
    }
    // h: function(val, oldVal) {
    //   console.log("new: %s, old: %s", val, oldVal);
    // }
  }
};
</script>

<style>
</style>
